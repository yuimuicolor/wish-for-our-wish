<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Wish Upon a Starâ›§</title>
    <link rel="stylesheet" href="./css/main.css" />
    <link rel="stylesheet" href="./css/todays-wish.css" />
  </head>
  <body>
    <header>
      <a href="./index.html">
        <div class="logo-container">
          <img
            class="logo-img"
            src="./assets/images/wish_upon_a_star_logo.svg"
            alt="Wish Upon a Star Logo"
            width="100%"
          />
        </div>
      </a>
      <div class="tab-menu-container">
        <a href="./our-wish.html" class="tab-menu-item">Our Wish</a>
        <a href="./photo.html" class="tab-menu-item">Photo</a>
        <a href="./music.html" class="tab-menu-item">Music</a>
        <a href="./todays-wish.html" class="tab-menu-item active"
          >Today's Wish</a
        >
      </div>
    </header>
    <main>
      <div class="frame">
        <div class="main-container">
          <img class="sparkle-bg" src="./assets/images/sparkle.gif" alt="sparkle-bg" />
          <img
            class="star-1-bg"
            src="./assets/images/silver-star-1.png"
            alt="silver-star-1"
          />
          <img
            class="star-2-bg"
            src="./assets/images/silver-star-2.png"
            alt="silver-star-2"
            width="400px"
          />
          <div class="main-box">
            <div class="top-container">
              <img src="./assets/images/photo-top-text.png" alt="wish for our wish" />
              <img src="./assets/images/photo-top-button.png" alt="buttons" />
            </div>
            <div class="content-container">
              <div class="wichu-fall-bg"></div>

              <div class="content-box">
                <div class="title-container heartbeat">
                  <img src="./assets/images/todays-wish/title.png" alt="ë‘ê·¼ë‘ê·¼!" />
                </div>
                <div class="wichu-container bounce">
                  <img src="./assets/images/todays-wish/wichu.png" alt="ìœ„ì¸„" />
                </div>
                <div class="sub-title-container shine">
                  <img
                    src="./assets/images/todays-wish/sub-title.png"
                    alt="ì˜¤ëŠ˜ ë‚˜ì˜ í–‰ìš´ì˜ WISHëŠ”?"
                  />
                </div>
                <button class="start-button">ë½‘ê¸°!</button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </main>
    <div id="modal" class="modal hidden">
      <div class="modal-overlay"></div>
      <div class="modal-content-container">
        <div class="modal-image-wrapper">
          <img src="" alt="modal-image" />
          <button id="closeModal" class="close-btn">
            <img src="" alt="close-btn" />
          </button>
          <button class="first-button voice-button"></button>
          <button class="second-button voice-button"></button>
          <button class="third-button voice-button"></button>
        </div>
      </div>
    </div>
    <script src="./js/photo-image-list.js"></script>
    <script>
      const container = document.querySelector(".wichu-fall-bg");

      function spawnWichu() {
        const wichu = document.createElement("div");
        wichu.classList.add("wichu-float");

        const randomLeft = Math.random() * window.innerWidth;
        wichu.style.left = `${randomLeft}px`;
        wichu.style.top = `-100px`; // í™”ë©´ ìœ„ì—ì„œ ì‹œìž‘

        container.appendChild(wichu);

        // 6ì´ˆ í›„ ì œê±°
        setTimeout(() => {
          wichu.remove();
        }, 6000);
      }

      // âœ¨ ë” ë¹ ë¥´ê³ , í™•ë¥ ë„ ë†’ê²Œ
      setInterval(() => {
        spawnWichu(); // í™•ë¥  ì—†ì´ ë¬´ì¡°ê±´ ìƒì„±
      }, 400); // 0.4ì´ˆë§ˆë‹¤ ê³„ì† ìƒì„±

      // ëª¨ë‹¬

      const modal = document.getElementById("modal");
      const modalImg = modal.querySelector(".modal-image-wrapper img");
      const closeBtnImg = modal.querySelector("#closeModal img");

      const members = ["sion", "riku", "yushi", "jaehee", "ryo", "sakuya"];

      // ëª¨ë‹¬ ì—´ê¸° í•¨ìˆ˜
      function openRandomModal() {
        const randomMember =
          members[Math.floor(Math.random() * members.length)];

        modalImg.src = `./assets/images/todays-wish/card-${randomMember}.png`;
        closeBtnImg.src = `./assets/images/todays-wish/close-btn-${randomMember}.png`;

        modal.classList.remove("hidden");

        document.body.style.overflow = "hidden"; // ðŸ‘ˆ ìŠ¤í¬ë¡¤ ë§‰ê¸°!
      }

      // ë²„íŠ¼ í´ë¦­ ì´ë²¤íŠ¸ ì—°ê²°
      document
        .querySelector(".start-button")
        .addEventListener("click", openRandomModal);

      // ëª¨ë‹¬ ë‹«ê¸° ë²„íŠ¼
      document.getElementById("closeModal").addEventListener("click", () => {
        modal.classList.add("hidden");
        document.body.style.overflow = "auto";
      });

      // ëª¨ë‹¬ ë°”ê¹¥ ëˆ„ë¥´ë©´ ë‹«íž˜
      modal.addEventListener("click", () => {
        modal.classList.add("hidden");
        document.body.style.overflow = "auto";
      });

      // ëª¨ë‹¬ ì•ˆìª½ ëˆ„ë¥´ë©´ ë‹«ížˆì§€ ì•ŠìŒ
      modal
        .querySelector(".modal-content-container")
        .addEventListener("click", (e) => {
          e.stopPropagation();
        });
    </script>
  </body>
</html>
